#!/bin/bash
# Set your desired username here
USERNAME=arch

# Will need to bootstrap from external device first: 
# mount [target-partition] /mnt
# mount [efi-partition] /mnt/esp
# pacstrap /mnt base linux linux-firmware
# arch-chroot /mnt
pacman -S base linux linux-firmware wpa_supplicant gvim tmux iproute2 dhcpcd grub efibootmgr xorg kde-applications plasma tlp xclip os-prober git sudo xorg-xinit xterm zsh fzf ripgrep gcc make cmake flake8 python-pip ctags autopep8 rustfmt clang base-devel docker docker-compose wireguard-tools bluez bluez-utils

grub-install --target=x86_64-efi --efi-directory=/esp --bootloader-id=GRUB
grub-mkconfig -o /boot/grub/grub.cfg
ln -sf /usr/share/zoneinfo/Asia/Singapore /etc/localtime
# If dual booting Ubuntu, go to ubuntu and run sudo update-grub

# Create user
useradd -m -G wheel -s /bin/bash $USERNAME
passwd $USER
